---
import { Image } from "astro:assets";
import Button from "./Button.astro";
const currentLocale = Astro.currentLocale || "ja";
interface Props {
  src: any;
  alt: string;
  width: number;
  height: number;
  link?: string;
}

const { src, alt, width, height, link } = Astro.props;
---

<style>
  .board-card {
    display: flex;
    flex-direction: column;
    gap: 80px;
    border: 2px solid var(--primitive-light-gray);
    border-radius: 16px;
    padding: 24px;
    flex: 0 0 calc(100% / 3);
    max-height: 416px;
  }

  .board-card-inner {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: stretch;
    width: 100%;
    flex: 1;
  }

  .board-card img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
    margin: 0 auto;
  }

  .board-card p {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    max-height: 120px;
    overflow: hidden;
    -webkit-line-clamp: 4;
    text-overflow: ellipsis;
  }
</style>

<div class="board-card">
  <div class="board-card-inner">
    <div style="flex: 1">
      <Image
        src={src}
        alt={alt}
        width={width}
        height={height}
        loading="lazy"
        style="display: block; margin: 0 auto; object-fit: contain; max-width: 100%; max-height: 100%;"
      />
    </div>

    {
      link && (
        <div style="width: 100%;">
          <Button variant="secondary" fullWidth href={link} target="_blank">
            詳細を見る
          </Button>
        </div>
      )
    }
  </div>
</div>
