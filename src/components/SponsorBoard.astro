---
import NoImage from "../assets/sponsors/no-image.png";
import { Image } from "astro:assets";
import { constants } from "../constants";
import Dialog from "./Dialog.astro";

const currentLocale = Astro.currentLocale || "ja";
---

<style>
  .sponsor-section {
    display: flex;
    flex-direction: column;
    gap: 80px;
  }

  .venue-sponsor img,
  .platinum-gold-sponsor-list img,
  .gold-sponsor-list img,
  .silver-sponsor-list img,
  .bronze-sponsor-list img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
    margin: 0 auto;
  }

  .gopher-sponsor-list img {
    width: 96px;
    height: 96px;
    object-fit: contain;
    border-radius: 50%;
    display: block;
    margin: 0 auto;
  }

  .tool-sponsor-list img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
    margin: 0 auto;
  }

  .special-sponsor img {
    max-width: 100%;
    max-height: 100%;
    object-fit: cover;
    object-position: center;
    display: block;
    margin: 0 auto;
  }

  .venue-sponsor li,
  .special-sponsor li,
  .platinum-gold-sponsor-list li,
  .gold-sponsor-list li,
  .silver-sponsor-list li,
  .bronze-sponsor-list li {
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    margin: 0 auto;
    background: none;
    padding: 10px;
  }

  .gopher-sponsor-list li {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 8px;
    box-sizing: border-box;
    margin: 0 auto;
    background: none;
    padding: 10px;
  }

  .tool-sponsor-list li {
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    margin: 0 auto;
    background: none;
    padding: 10px;
  }

  .platinum-gold-sponsor-list li,
  .gold-sponsor-list li {
    max-width: 484px;
    max-height: 242px;
    width: 100%;
  }
  .silver-sponsor-list li {
    max-width: 290px;
    max-height: 163px;
    min-width: 150px;
    width: 100%;
    flex: 0 0 calc(100% / 3);
  }
  .bronze-sponsor-list li {
    max-width: 220px;
    max-height: 100px;
    min-width: 120px;
    width: 100%;
    margin: 0;
  }
  .gopher-sponsor-list li {
    max-width: 220px;
    height: 200px;
    min-width: 120px;
    width: 100%;
    margin: 0;

    div {
      color: var(--text-primary);
      font-weight: 700;
      font-size: 16px;
    }
  }
  .tool-sponsor-list li {
    max-width: 320px;
    max-height: 120px;
    width: 100%;
  }

  .venue-sponsor,
  .special-sponsor ul,
  .platinum-gold-sponsor-list,
  .gold-sponsor-list,
  .silver-sponsor-list,
  .wifi-sponsor-list,
  .tool-sponsor-list {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    align-items: center;
    list-style: none;
    text-align: center;
    padding: 0;
  }

  .bronze-sponsor-list,
  .gopher-sponsor-list {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: flex-start;
    align-items: center;
    list-style: none;
    text-align: center;
    padding: 0;
    margin: 0;
  }

  @media (max-width: 1024px) {
    .venue-sponsor li,
    .special-sponsor li,
    .platinum-gold-sponsor-list li,
    .gold-sponsor-list li,
    .silver-sponsor-list li,
    .bronze-sponsor-list li,
    .gopher-sponsor-list li,
    .wifi-sponsor-list li,
    .tool-sponsor-list li {
      max-width: 100%;
    }
  }
  @media (max-width: 600px) {
    .sponsor-section {
      gap: 40px;
    }
    .venue-sponsor li,
    .special-sponsor li,
    .platinum-gold-sponsor-list li,
    .gold-sponsor-list li,
    .silver-sponsor-list li,
    .bronze-sponsor-list li,
    .gopher-sponsor-list li,
    .wifi-sponsor-list li,
    .tool-sponsor-list li {
      padding: 6px;
    }
  }
</style>

<div class="sponsor-section">
  <div>
    <h2>{currentLocale === "ja" ? "会場スポンサー" : "Venue Sponsor"}</h2>
    <ul class="venue-sponsor">
      <li>
        <Image
          src={constants.sponsors.venueSponsor.imageSrc}
          alt={constants.sponsors.venueSponsor.name}
          width={constants.sponsors.venueSponsor.width}
          height={constants.sponsors.venueSponsor.height}
          loading="lazy"
          priority
          style="cursor:pointer"
          onclick={`const dialog = document.getElementById('${constants.sponsors.venueSponsor.dialog.openId}'); if (dialog) dialog.showModal();`}
        />

        <Dialog
          openId={constants.sponsors.venueSponsor.dialog.openId}
          sponsorSectionTitle={currentLocale === "ja"
            ? "会場スポンサー"
            : "Venue Sponsor"}
          sponsor={constants.sponsors.venueSponsor}
        />
      </li>
    </ul>
  </div>

  <div class="special-sponsor">
    <h2>
      {currentLocale === "ja" ? "スペシャルスポンサー" : "Special Sponsor"}
    </h2>
    <ul>
      <li>
        <Image
          src={constants.sponsors.specialSponsor.imageSrc}
          alt={constants.sponsors.specialSponsor.name}
          width={constants.sponsors.specialSponsor.width}
          height={constants.sponsors.specialSponsor.height}
          loading="lazy"
          priority
          style="cursor:pointer"
          onclick={`const dialog = document.getElementById('${constants.sponsors.specialSponsor.dialog.openId}'); if (dialog) dialog.showModal();`}
        />

        <Dialog
          openId={constants.sponsors.specialSponsor.dialog.openId}
          sponsorSectionTitle={currentLocale === "ja"
            ? "スペシャルスポンサー"
            : `Special Sponsor`}
          sponsor={constants.sponsors.specialSponsor}
        />
      </li>
    </ul>
  </div>

  <div>
    <h2>Platinum "<span class="accent">Go</span>"ld</h2>
    <ul class="platinum-gold-sponsor-list">
      {
        constants.sponsors.platinumGoldSponsors.map((sponsor) => (
          <li>
            <Image
              src={sponsor.imageSrc}
              alt={sponsor.name}
              width={sponsor.width}
              height={sponsor.height}
              loading="lazy"
              priority
              style="cursor:pointer"
              onclick={`const dialog = document.getElementById('${sponsor.dialog.openId}'); if (dialog) dialog.showModal();`}
            />

            <Dialog
              openId={sponsor.dialog.openId}
              sponsorSectionTitle={
                currentLocale === "ja"
                  ? "プラチナGoルド スポンサー"
                  : `Platinum "Go"ld Sponsor`
              }
              sponsor={sponsor}
            />
          </li>
        ))
      }
    </ul>
  </div>

  <div>
    <h2>Gold</h2>
    <ul class="gold-sponsor-list">
      {
        constants.sponsors.goldSponsors.map((sponsor) => (
          <li>
            <Image
              src={sponsor.imageSrc}
              alt={sponsor.name}
              width={sponsor.width}
              height={sponsor.height}
              loading="lazy"
              priority
              style="cursor:pointer"
              onclick={`const dialog = document.getElementById('${sponsor.dialog.openId}'); if (dialog) dialog.showModal();`}
            />
            <Dialog
              openId={sponsor.dialog.openId}
              sponsorSectionTitle={
                currentLocale === "ja" ? "Goルドスポンサー" : `"Go"ld Sponsor`
              }
              sponsor={sponsor}
            />
          </li>
        ))
      }
    </ul>
  </div>

  <div>
    <h2>Silver</h2>
    <ul class="silver-sponsor-list">
      {
        constants.sponsors.silverSponsors.map(
          (sponsor) =>
            sponsor.imageSrc !== NoImage && (
              <li>
                <Image
                  src={sponsor.imageSrc}
                  alt={sponsor.name}
                  width={sponsor.width}
                  height={sponsor.height}
                  loading="lazy"
                  priority
                />
              </li>
            ),
        )
      }
    </ul>
  </div>

  <div>
    <h2>Bronze</h2>
    <ul class="bronze-sponsor-list">
      {
        constants.sponsors.bronzeSponsors.map((sponsor) => (
          <li>
            <Image
              src={sponsor.imageSrc}
              alt={sponsor.name}
              width={sponsor.width}
              height={sponsor.height}
              loading="lazy"
              priority
            />
          </li>
        ))
      }
    </ul>
  </div>

  <div>
    <h2>Gopher</h2>
    <ul class="gopher-sponsor-list">
      {
        constants.sponsors.gopherSponsors.map((sponsor) => (
          <li>
            <Image
              src={sponsor.imageSrc}
              alt={sponsor.name}
              width={sponsor.width}
              height={sponsor.height}
              loading="lazy"
              priority
            />
            <div>{sponsor.name}</div>
          </li>
        ))
      }
    </ul>
  </div>

  <div>
    <h3>{currentLocale === "ja" ? "ツールスポンサー" : "Tool Sponsor"}</h3>
    <ul class="tool-sponsor-list">
      {
        (
          <li>
            <Image
              src={constants.sponsors.toolSponsor.imageSrc}
              alt={constants.sponsors.toolSponsor.name}
              width={constants.sponsors.toolSponsor.width}
              height={constants.sponsors.toolSponsor.height}
              loading="lazy"
              priority
            />
          </li>
        )
      }
    </ul>
  </div>

  <div>
    <h3>{currentLocale === "ja" ? "WiFiスポンサー" : "WiFi Sponsor"}</h3>
    <ul class="wifi-sponsor-list">
      {
        (
          <li>
            <Image
              src={constants.sponsors.wifiSponsor.imageSrc}
              alt={constants.sponsors.wifiSponsor.name}
              width={constants.sponsors.wifiSponsor.width}
              height={constants.sponsors.wifiSponsor.height}
              loading="lazy"
              priority
            />
          </li>
        )
      }
    </ul>
  </div>
</div>
